"use strict";var Rectangle=function(t,e,i,r,m,a){RigidShape.call(this,t,r,m,a),this.mType="Rectangle",this.mWidth=e,this.mHeight=i,this.mBoundRadius=Math.sqrt(e*e+i*i)/2,this.mVertex=[],this.mFaceNormal=[],this.mVertex[0]=new Vec2(t.x-e/2,t.y-i/2),this.mVertex[1]=new Vec2(t.x+e/2,t.y-i/2),this.mVertex[2]=new Vec2(t.x+e/2,t.y+i/2),this.mVertex[3]=new Vec2(t.x-e/2,t.y+i/2),this.mFaceNormal[0]=this.mVertex[1].subtract(this.mVertex[2]),this.mFaceNormal[0]=this.mFaceNormal[0].normalize(),this.mFaceNormal[1]=this.mVertex[2].subtract(this.mVertex[3]),this.mFaceNormal[1]=this.mFaceNormal[1].normalize(),this.mFaceNormal[2]=this.mVertex[3].subtract(this.mVertex[0]),this.mFaceNormal[2]=this.mFaceNormal[2].normalize(),this.mFaceNormal[3]=this.mVertex[0].subtract(this.mVertex[1]),this.mFaceNormal[3]=this.mFaceNormal[3].normalize(),this.updateInertia()},prototype=Object.create(RigidShape.prototype);(prototype.constructor=Rectangle).prototype=prototype,Rectangle.prototype.rotate=function(t){this.mAngle+=t;for(var e=0;e<this.mVertex.length;e++)this.mVertex[e]=this.mVertex[e].rotate(this.mCenter,t);return this.mFaceNormal[0]=this.mVertex[1].subtract(this.mVertex[2]),this.mFaceNormal[0]=this.mFaceNormal[0].normalize(),this.mFaceNormal[1]=this.mVertex[2].subtract(this.mVertex[3]),this.mFaceNormal[1]=this.mFaceNormal[1].normalize(),this.mFaceNormal[2]=this.mVertex[3].subtract(this.mVertex[0]),this.mFaceNormal[2]=this.mFaceNormal[2].normalize(),this.mFaceNormal[3]=this.mVertex[0].subtract(this.mVertex[1]),this.mFaceNormal[3]=this.mFaceNormal[3].normalize(),this},Rectangle.prototype.move=function(t){for(var e=0;e<this.mVertex.length;e++)this.mVertex[e]=this.mVertex[e].add(t);return this.mCenter=this.mCenter.add(t),this},Rectangle.prototype.draw=function(t){t.save(),t.translate(this.mVertex[0].x,this.mVertex[0].y),t.rotate(this.mAngle),t.strokeRect(0,0,this.mWidth,this.mHeight),t.restore()},Rectangle.prototype.updateInertia=function(){0===this.mInvMass?this.mInertia=0:(this.mInertia=1/this.mInvMass*(this.mWidth*this.mWidth+this.mHeight*this.mHeight)/12,this.mInertia=1/this.mInertia)};